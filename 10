#include <stdio.h>
#include <stdlib.h>
#define n1 4
#define n2 8
int graph[10][10], visited[10], indegree[10], n, cnt;
void sourcetopo() {
int i, j, count = 0;
for (i = 0; i < n; i++)
for (j = 0; j < n; j++)
indegree[i] += graph[j][i];
for(i=0;i<n;i++)
if(!indegree[i])
acyclic = 1;
if(!acyclic){
printf("invalid input\n");
return ;
}
printf("\nTopologically sorted order: \n");
while (count < n) {
for (i = 0; i < n; i++) {
if (!visited[i] && !indegree[i]) {
printf("%d ", i+1);
visited[i] = 1;
for (j = 0; j < n; j++) {
cnt++;
if (graph[i][j]) {
graph[i][j] = 0;
indegree[j]--;
}
}
count++;
break;
}
}
}
}
void correctness() {
printf("Enter no. of vertices: ");
scanf("%d", &n);
printf("Enter adjacency matrix:\n");
for (int i = 0; i < n; i++)
for (int j = 0; j < n; j++)
scanf("%d", &graph[i][j]);
for (int i = 0; i < n; i++) {
visited[i] = 0;
indegree[i] = 0;
}
sourcetopo();
}
void analysis() {
int i, j;
FILE *f;
f = fopen("BC.txt", "a");
for (n = n1; n <= n2; n += 1) {
for (i = 0; i < n; i++)
for (j = 0; j < n; j++)
if (i == j - 1)
graph[i][j] = 1;
else
graph[i][j] = 0;
for (i = 0; i < n; i++) {
visited[i] = 0;
indegree[i] = 0;
}
cnt = 0;
sourcetopo();
fprintf(f, "%d\t%d\n", n, cnt);
} //system("gnuplot>load 'command.txt'");
fclose(f);
}
void main() {
int ch;
printf("1.analysis\t\t2.correctness\t\t0.exit\n");
for (;;) {
printf("\nenter choice: ");
scanf("%d", &ch);
switch (ch) {
case 1:
analysis();
break;
case 2:
correctness();
break;
case 0:
printf("exiting..\n");
exit(0);
default:
printf("wrong choice!!\n");
break;
}
}
}
#include<stdio.h>
#include<stdlib.h>

void main(){
    int n;
    printf("Enter num of vertices >> ");
    scanf("%d", &n);

    int graph[n][n];
    printf("Enter matrix for DAG>> \n");
    for(int i = 0; i<n; ++i)
        for(int j = 0; j<n; ++j)
            scanf("%d", &graph[i][j]);

    int *vis = (int *)calloc(sizeof(int), n);
    int *indeg = (int *)calloc(sizeof(int), n);

    for(int i = 0; i<n; ++i)
        for(int j = 0; j<n; ++j)
            indeg[i] += graph[j][i];

    printf("Topological sorting >> \n");
    for(int i = 0; i<n; ++i){
        for(int j = 0; j<n; ++j){
            if (!indeg[j] && !vis[j]){
                printf("%d  ", j);
                vis[j] = 1;

                for(int k = 0; k<n; ++k){
                    if ( graph[j][k] ){
                        --indeg[k];
                        graph[j][k] = 0;
                    }
                }
            }
        }
    }
}
